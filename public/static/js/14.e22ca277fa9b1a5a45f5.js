webpackJsonp([14],{aJi9:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),i=s.n(n),a=s("eUkZ"),o=(s("NYxO"),s("0xDb"),s("Au9i")),r=s("mtWM"),u=s.n(r),c={components:{Hearder:a.a},data:function(){return{userinfo:"",token:""}},methods:{update:function(){var e=this,t=this.userinfo._id;this.$axios.put("/user/user/"+t,this.userinfo).then(function(t){Object(o.Toast)(t.msg),200==t.code&&(e.$store.commit("CHANGEINFO",e.userinfo),e.$router.push("/myself"))})},handleupimg:function(e){var t=this,s=e.target.files[0],n=new FormData;n.append("file",s),n.append("token",this.token),u.a.post("https://upload-z1.qiniup.com",n).then(function(e){t.userinfo.avatar=e.data.url})},getToken:function(){var e=this;u.a.get("http://upload.mawenli.xyz").then(function(t){e.token=t.data.data})}},created:function(){this.getToken(),this.userinfo=i()({},this.$store.state.userinfo)}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"myinfo"},[s("Hearder",{staticStyle:{position:"absolute"}}),e._v(" "),s("div",{staticClass:"pt110"},[s("div",{staticClass:"redact",on:{click:e.update}},[e._v("\n            保存\n        ")]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("头像")]),e._v(" "),s("label",[s("input",{staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.handleupimg}}),e._v(" "),s("div",[s("img",{attrs:{src:e.userinfo.avatar,alt:""}})])])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("用户名")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.username,expression:"userinfo.username"}],attrs:{type:"text",readonly:""},domProps:{value:e.userinfo.username},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"username",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("昵称")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.nicheng,expression:"userinfo.nicheng"}],attrs:{type:"text"},domProps:{value:e.userinfo.nicheng},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"nicheng",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("工作")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.job,expression:"userinfo.job"}],attrs:{type:"text"},domProps:{value:e.userinfo.job},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"job",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("电话")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.phone,expression:"userinfo.phone"}],attrs:{type:"text"},domProps:{value:e.userinfo.phone},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"phone",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("最高学历")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.education,expression:"userinfo.education"}],attrs:{type:"text"},domProps:{value:e.userinfo.education},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"education",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("性别")]),e._v(" "),s("div",{staticClass:"radio flr"},[s("label",{class:{activelabel:1==e.userinfo.sex}},[s("i",{staticClass:"iconfont icon-radio-checked"}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.sex,expression:"userinfo.sex"}],attrs:{name:"sex",type:"radio"},domProps:{value:1,checked:e._q(e.userinfo.sex,1)},on:{change:function(t){e.$set(e.userinfo,"sex",1)}}}),s("span",[e._v("男")])]),e._v(" "),s("label",{class:{activelabel:0==e.userinfo.sex}},[s("i",{staticClass:"iconfont icon-radio-checked"}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.sex,expression:"userinfo.sex"}],attrs:{name:"sex",type:"radio"},domProps:{value:0,checked:e._q(e.userinfo.sex,0)},on:{change:function(t){e.$set(e.userinfo,"sex",0)}}}),e._v("女\n                    ")])])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-item"},[s("span",[e._v("当前身份")]),e._v(" "),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.partyStatus,expression:"userinfo.partyStatus"}],attrs:{name:"partyStatus"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.userinfo,"partyStatus",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[e._v("积极分子")]),e._v(" "),s("option",{attrs:{value:"1"}},[e._v("预备党员")]),e._v(" "),s("option",{attrs:{value:"2"}},[e._v("党员")])])])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"desc"},[s("div",{staticClass:"left"},[e._v("描述")]),e._v(" "),s("div",{staticClass:"right"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.desc,expression:"userinfo.desc"}],domProps:{value:e.userinfo.desc},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"desc",t.target.value)}}})])])])])],1)},staticRenderFns:[]};var l=s("VU/8")(c,v,!1,function(e){s("rrim")},"data-v-53cb3d05",null);t.default=l.exports},rrim:function(e,t){}});
//# sourceMappingURL=14.e22ca277fa9b1a5a45f5.js.map